EXACT STEPS TO FIX EMAIL ON RENDER
===================================

Copy/paste these steps exactly:


STEP 1: VERIFY YOUR GMAIL ACCOUNT IS READY
===========================================

Before going to Render, make sure your Gmail is ready:

1. Open https://myaccount.google.com/security
2. Look for "2-Step Verification" 
3. If it says "OFF" or "Not set", click it and turn it ON
   (Follow Google's prompts for phone verification)
4. After 2-Step Verification is ON, go to https://myaccount.google.com/apppasswords
5. For "Select the app": Choose "Mail"
6. For "Select the device": Choose "Windows Computer" (or other)
7. Click "Generate"
8. Google shows a 16-character password like: abcd efgh ijkl mnop
9. COPY this password (remove spaces if needed)
   Example: abcdefghijklmnop
10. Keep this password in clipboard/notepad for next step


STEP 2: GO TO RENDER DASHBOARD
===============================

1. Open https://dashboard.render.com
2. Sign in to your Render account
3. Look for your service name (should be "quizz-app-scml" or similar)
4. Click on it


STEP 3: FIND ENVIRONMENT VARIABLES
====================================

1. Once in your service, look for:
   - "Settings" tab, OR
   - "Environment" section in the left sidebar
2. Click on it


STEP 4: ADD OR UPDATE EMAIL_HOST_PASSWORD
===========================================

OPTION A - If EMAIL_HOST_PASSWORD already exists:
1. Find "EMAIL_HOST_PASSWORD" in the list
2. Click the "Edit" button (or pen icon) next to it
3. Clear the old value
4. Paste your 16-character Gmail app password (from Step 1)
5. Click "Save"

OPTION B - If EMAIL_HOST_PASSWORD doesn't exist:
1. Click "+ Add Environment Variable"
2. In the "Name" field, type: EMAIL_HOST_PASSWORD
3. In the "Value" field, paste: your 16-character password from Step 1
4. Click "Add" or "Save"


STEP 5: WAIT FOR DEPLOYMENT
=============================

1. Look at the top of the page for deployment status
2. It should show "Deploying..." then "Live"
3. Wait 5-10 minutes for it to finish
4. Do NOT go to your site yet - wait for deployment to complete


STEP 6: VERIFY THE FIX
======================

Option A - Using Render Shell (recommended):
1. In your Render service page, find "Shell" tab
2. Click it to open a command terminal
3. Type this command and press Enter:
   python manage.py test_email
4. You should see output like:
   [OK] EMAIL_BACKEND: quizz_app.email_debug.DebugSMTPEmailBackend
   [OK] EMAIL_HOST_PASSWORD: SET
   [OK] Site configured...
   [OK] Test email sent successfully!
5. If you see these [OK] messages, email is working!

Option B - Using your live website:
1. Go to https://your-app.onrender.com/ (replace with your actual domain)
2. Log in to any account (student or teacher)
3. Look for "Forgot Password" or password reset link
4. Enter an email address
5. Click "Send Password Reset"
6. Wait a few seconds
7. Check your email inbox (not spam folder yet)
8. You should receive email from: quizfyplatform@gmail.com
9. If you see it, email is working!

Option C - Check logs:
1. In Render service page, go to "Logs" tab
2. Scroll down looking for lines that contain "[EMAIL]"
3. Should see something like:
   [EMAIL] Attempting to send 1 message(s) via SMTP
   [EMAIL] Successfully sent 1 message(s)


TROUBLESHOOTING IF EMAIL STILL DOESN'T WORK
============================================

Error Message: "SMTP Error: (535, Username and Password not accepted)"
→ The password is WRONG
→ Go back to Step 1 and generate a FRESH app password
→ Make sure you copied it exactly with no extra characters
→ Update it on Render and redeploy

Error Message: "EMAIL_HOST_PASSWORD: NOT SET (will use console)"
→ The environment variable didn't save properly
→ Go back to Step 4 and make sure you clicked "Save"
→ Wait for deployment to complete
→ It might take a few minutes to propagate

Email sent but not received:
→ Check SPAM/PROMOTIONS folder first
→ Verify the recipient email address is correct
→ Try sending a test email to yourself
→ Gmail might delay some emails by a few seconds

Can't access Render Shell:
→ Try using Option B or C instead (test via website or logs)
→ Or contact Render support


AFTER EMAIL IS WORKING
======================

Your password reset feature is now complete! Users can:
1. Click "Forgot Password"
2. Enter their email
3. Receive a password reset link from quizfyplatform@gmail.com
4. Click the link and set a new password


IF YOU NEED HELP
================

Check these files in your project for more info:
- EMAIL_FIX_SUMMARY.txt (detailed explanation of what was fixed)
- EMAIL_RESET_FIX_GUIDE.txt (troubleshooting guide)
- Run: python manage.py test_email (to diagnose locally)

All fixes are in code and deployed. Only missing piece is the Render env var.
Once you set EMAIL_HOST_PASSWORD on Render, email will work immediately.
